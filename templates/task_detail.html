{% extends 'base.html' %}
{% block title %}{{ task.title }}{% endblock %}

{% block content %}
<section id="task-detail" class="section task-detail-section" style="background-color:#1f2937; color:#FFFFFF; padding:40px 20px;">
    <div class="content" style="max-width:800px; margin:0 auto;">

        <!-- Task title -->
        <div class="task-title-box" style="display:flex; align-items:center; margin-bottom:25px;">
            <i class="fa-solid fa-book-open" style="margin-right:12px; color:#2196F3; font-size:2rem;"></i>
            <h2 class="task-title" style="margin:0; font-size:1.8rem; font-weight:600;">{{ task.title }}</h2>
        </div>

        <!-- Task detail -->
        <div class="task-detail-box" style="margin-bottom:30px; line-height:1.6; font-size:1rem;">
            <p>{{ task.detail }}</p>
        </div>

        <!-- Talab fayllar -->
        {% if task.files.all %}
        <div class="task-files-box">
            <h3 style="margin-bottom:15px; font-size:1.2rem; font-weight:600;">
                <i class="fa-solid fa-file-arrow-down" style="margin-right:8px; color:#2196F3;"></i>
                Fayllar
            </h3>
            {% for file in task.files.all %}
            <div class="task-file-box" style="display:flex; align-items:center; margin-bottom:12px;">
                <i class="fa-solid fa-file-pdf" style="margin-right:10px; color:#2196F3; font-size:1.2rem;"></i>
                <a href="{{ file.file.url }}" target="_blank" style="color:#FFFFFF; text-decoration:none; margin-right:15px;">
                    {{ file.file.name|slice:"12:" }}
                </a>
                <a href="{{ file.file.url }}" download style="color:#4CAF50; text-decoration:none; font-weight:500;">
                    Yuklab olish
                </a>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p>Fayl mavjud emas.</p>
        {% endif %}

    </div>
</section>
{% endblock %}
